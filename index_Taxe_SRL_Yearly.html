<!DOCTYPE html>
<html lang="en">

<head>

  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1">

  <script>

    function profitNetCalc() {

      // Inputs

      venitBrutVar = Number(document.getElementById('venitBrut').value);
      cheltAutoVar = Number(document.getElementById('cheltAuto').value);
      cheltAlteleVar = Number(document.getElementById('cheltAltele').value);

      // Vars

      var profitBrut;
      var profitNetBfTax;
      var impProfitBrut;
      var impProfitNet;
      var salMin;
      var pragSanat;
      var contrSanat;
      var valTaxe;
      var profitNetAfTax;
      var procTaxe;
      var procTaxeDisplay;

      // Results

      var profitBrutRes = document.getElementById('profitBrut');
      var profitNetBfTaxRes = document.getElementById('profitNetBfTax');
      var impProfitBrutRes = document.getElementById('impProfitBrut');
      var impProfitNetRes = document.getElementById('impProfitNet');
      var contrSanatRes = document.getElementById('contrSanat');
      var valTaxeRes = document.getElementById('valTaxe');
      var profitNetAfTaxRes = document.getElementById('profitNetAfTax');
      var procTaxeDisplayRes = document.getElementById('procTaxeDisplay');

      // Formulas

      salMin = 4050;
      profitBrut = parseFloat(venitBrutVar) - parseFloat(cheltAutoVar) * 0.5 - parseFloat(cheltAlteleVar);
      impProfitBrut = parseFloat(profitBrut) * 0.16;
      profitNetBfTax = parseFloat(venitBrutVar) - parseFloat(cheltAutoVar) - parseFloat(cheltAlteleVar) - parseFloat(impProfitBrut);
      impProfitNet = parseFloat(profitNetBfTax) * 0.16;
      pragSanat = parseFloat(salMin) * 6;
      if (parseFloat(profitNetBfTax) >= parseFloat(pragSanat)) {
        contrSanat = parseFloat(profitNetBfTax) * 0.1;
      } else {
        contrSanat = 0;
      }
      valTaxe = parseFloat(impProfitBrut) + parseFloat(impProfitNet) + parseFloat(contrSanat);
      profitNetAfTax = parseFloat(venitBrutVar) - parseFloat(cheltAutoVar) - parseFloat(cheltAlteleVar) - parseFloat(valTaxe);
      procTaxe = parseFloat(valTaxe) / parseFloat(venitBrutVar) * 100;
      procTaxeDisplay = parseFloat(procTaxe).toFixed(2) + '%';

      // Display

      profitBrutRes.innerHTML = Math.trunc(profitBrut);
      profitNetBfTaxRes.innerHTML = Math.trunc(profitNetBfTax);
      impProfitBrutRes.innerHTML = Math.trunc(impProfitBrut);
      impProfitNetRes.innerHTML = Math.trunc(impProfitNet);
      contrSanatRes.innerHTML = Math.trunc(contrSanat);
      valTaxeRes.innerHTML = Math.trunc(valTaxe);
      profitNetAfTaxRes.innerHTML = Math.trunc(profitNetAfTax);
      procTaxeDisplayRes.innerHTML = procTaxeDisplay;

    }

  </script>

  <style>
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      margin: 0;
    }
  </style>

</head>

<body>

  <form action="">
    Venit brut: <input type="number" id="venitBrut" value="" style="width: 31px"
      oninput="if (this.value < 0) { this.value = 0 }"><br />
    Cheltuieli, auto: <input type="number" id="cheltAuto" value="" style="width: 31px"
      oninput="if (this.value < 0) { this.value = 0 }"><br />
    Cheltuieli, altele: <input type="number" id="cheltAltele" value="" style="width: 31px"
      oninput="if (this.value < 0) { this.value = 0 }"> <input type="button" id="sub" value="Submit"
      onclick="profitNetCalc()"><br />
    <b>Profit brut: <span id="profitBrut"></span></b><br />
    Impozit, pe profit brut: <span id="impProfitBrut"></span><br />
    <b>Profit net, înainte de taxe: <span id="profitNetBfTax"></span></b><br />
    Impozit, pe profit net: <span id="impProfitNet"></span><br />
    Sănătate: <span id="contrSanat"></span><br />
    <b>Profit net, după taxe: <span id="profitNetAfTax"></span></b><br />
    Taxe: <span id="valTaxe"></span><br />
    Procentaj: <span id="procTaxeDisplay"></span><br /><br />
  </form>

</body>

</html>