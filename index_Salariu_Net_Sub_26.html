<!DOCTYPE html>
<html lang="en">

<head>

  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1">

  <script>

    function restPlatCalc() {

      // Inputs

      salTarif = Number(document.getElementById('salTarif').value);
      valBonus = Number(document.getElementById('valBonus').value);
      valTich = Number(document.getElementById('valTich').value);

      // Vars

      var salMin;
      var venitBrut;
      var venitBrutEur;
      var venitBrutEurDisplay;
      var venitBrutTich;
      var venitBrutTichEur;
      var venitBrutTichEurDisplay;
      var faraTaxe;
      var bazaSanat;
      var bazaPensie;
      var contrSanat;
      var contrPensie;
      var dedBaza;
      var dedSupl;
      var venitImp;
      var valImp;
      var restPlat;
      var restPlatEur;
      var restPlatEurDisplay;
      var restPlatTich;
      var restPlatTichEur;
      var restPlatTichEurDisplay;

      // Results

      var venitBrutRes = document.getElementById('venitBrut');
      var venitBrutEurDisplayRes = document.getElementById('venitBrutEurDisplay');
      var venitBrutTichRes = document.getElementById('venitBrutTich');
      var venitBrutTichEurDisplayRes = document.getElementById('venitBrutTichEurDisplay');
      var contrSanatRes = document.getElementById('contrSanat');
      var contrPensieRes = document.getElementById('contrPensie');
      var dedBazaRes = document.getElementById('dedBaza');
      var dedSuplRes = document.getElementById('dedSupl');
      var valImpRes = document.getElementById('valImp');
      var restPlatRes = document.getElementById('restPlat');
      var restPlatEurDisplayRes = document.getElementById('restPlatEurDisplay');
      var restPlatTichRes = document.getElementById('restPlatTich');
      var restPlatTichEurDisplayRes = document.getElementById('restPlatTichEurDisplay');

      // Formulas

      salMin = 4050;
      faraTaxe = 300;
      cursEur = 5;
      venitBrut = parseFloat(salTarif) + parseFloat(valBonus);
      venitBrutEur = Math.trunc(parseFloat(venitBrut) / parseFloat(cursEur));
      venitBrutEurDisplay = '(' + venitBrutEur + ' EUR)';
      venitBrutTich = parseFloat(venitBrut) + parseFloat(valTich);
      venitBrutTichEur = Math.trunc(parseFloat(venitBrutTich) / parseFloat(cursEur));
      venitBrutTichEurDisplay = '(' + venitBrutTichEur + ' EUR)';
      if ((parseFloat(venitBrutTich)) <= parseFloat(salMin)) {
        dedBaza = (parseFloat(salMin) * 0.2);
      } else {
        if ((parseFloat(salMin) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 50))) {
          dedBaza = (parseFloat(salMin) * 0.195);
        } else {
          if (((parseFloat(salMin) + 50) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 100))) {
            dedBaza = (parseFloat(salMin) * 0.19);
          } else {
            if (((parseFloat(salMin) + 100) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 150))) {
              dedBaza = (parseFloat(salMin) * 0.185);
            } else {
              if (((parseFloat(salMin) + 150) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 200))) {
                dedBaza = (parseFloat(salMin) * 0.18);
              } else {
                if (((parseFloat(salMin) + 200) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 250))) {
                  dedBaza = (parseFloat(salMin) * 0.175);
                } else {
                  if (((parseFloat(salMin) + 250) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 300))) {
                    dedBaza = (parseFloat(salMin) * 0.17);
                  } else {
                    if (((parseFloat(salMin) + 300) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 350))) {
                      dedBaza = (parseFloat(salMin) * 0.165);
                    } else {
                      if (((parseFloat(salMin) + 350) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 400))) {
                        dedBaza = (parseFloat(salMin) * 0.16);
                      } else {
                        if (((parseFloat(salMin) + 400) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 450))) {
                          dedBaza = (parseFloat(salMin) * 0.155);
                        } else {
                          if (((parseFloat(salMin) + 450) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 500))) {
                            dedBaza = (parseFloat(salMin) * 0.15);
                          } else {
                            if (((parseFloat(salMin) + 500) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 550))) {
                              dedBaza = (parseFloat(salMin) * 0.145);
                            } else {
                              if (((parseFloat(salMin) + 550) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 600))) {
                                dedBaza = (parseFloat(salMin) * 0.14);
                              } else {
                                if (((parseFloat(salMin) + 600) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 650))) {
                                  dedBaza = (parseFloat(salMin) * 0.135);
                                } else {
                                  if (((parseFloat(salMin) + 650) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 700))) {
                                    dedBaza = (parseFloat(salMin) * 0.13);
                                  } else {
                                    if (((parseFloat(salMin) + 700) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 750))) {
                                      dedBaza = (parseFloat(salMin) * 0.125);
                                    } else {
                                      if (((parseFloat(salMin) + 750) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 800))) {
                                        dedBaza = (parseFloat(salMin) * 0.12);
                                      } else {
                                        if (((parseFloat(salMin) + 800) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 850))) {
                                          dedBaza = (parseFloat(salMin) * 0.115);
                                        } else {
                                          if (((parseFloat(salMin) + 850) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 900))) {
                                            dedBaza = (parseFloat(salMin) * 0.11);
                                          } else {
                                            if (((parseFloat(salMin) + 900) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 950))) {
                                              dedBaza = (parseFloat(salMin) * 0.105);
                                            } else {
                                              if (((parseFloat(salMin) + 950) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1000))) {
                                                dedBaza = (parseFloat(salMin) * 0.1);
                                              } else {
                                                if (((parseFloat(salMin) + 1000) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1050))) {
                                                  dedBaza = (parseFloat(salMin) * 0.095);
                                                } else {
                                                  if (((parseFloat(salMin) + 1050) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1100))) {
                                                    dedBaza = (parseFloat(salMin) * 0.09);
                                                  } else {
                                                    if (((parseFloat(salMin) + 1100) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1150))) {
                                                      dedBaza = (parseFloat(salMin) * 0.085);
                                                    } else {
                                                      if (((parseFloat(salMin) + 1150) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1200))) {
                                                        dedBaza = (parseFloat(salMin) * 0.08);
                                                      } else {
                                                        if (((parseFloat(salMin) + 1200) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1250))) {
                                                          dedBaza = (parseFloat(salMin) * 0.075);
                                                        } else {
                                                          if (((parseFloat(salMin) + 1250) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1300))) {
                                                            dedBaza = (parseFloat(salMin) * 0.07);
                                                          } else {
                                                            if (((parseFloat(salMin) + 1300) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1350))) {
                                                              dedBaza = (parseFloat(salMin) * 0.065);
                                                            } else {
                                                              if (((parseFloat(salMin) + 1350) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1400))) {
                                                                dedBaza = (parseFloat(salMin) * 0.06);
                                                              } else {
                                                                if (((parseFloat(salMin) + 1400) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1450))) {
                                                                  dedBaza = (parseFloat(salMin) * 0.055);
                                                                } else {
                                                                  if (((parseFloat(salMin) + 1450) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1500))) {
                                                                    dedBaza = (parseFloat(salMin) * 0.05);
                                                                  } else {
                                                                    if (((parseFloat(salMin) + 1500) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1550))) {
                                                                      dedBaza = (parseFloat(salMin) * 0.045);
                                                                    } else {
                                                                      if (((parseFloat(salMin) + 1550) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1600))) {
                                                                        dedBaza = (parseFloat(salMin) * 0.04);
                                                                      } else {
                                                                        if (((parseFloat(salMin) + 1600) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1650))) {
                                                                          dedBaza = (parseFloat(salMin) * 0.035);
                                                                        } else {
                                                                          if (((parseFloat(salMin) + 1650) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1700))) {
                                                                            dedBaza = (parseFloat(salMin) * 0.03);
                                                                          } else {
                                                                            if (((parseFloat(salMin) + 1700) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1750))) {
                                                                              dedBaza = (parseFloat(salMin) * 0.025);
                                                                            } else {
                                                                              if (((parseFloat(salMin) + 1750) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1800))) {
                                                                                dedBaza = (parseFloat(salMin) * 0.02);
                                                                              } else {
                                                                                if (((parseFloat(salMin) + 1800) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1850))) {
                                                                                  dedBaza = (parseFloat(salMin) * 0.015);
                                                                                } else {
                                                                                  if (((parseFloat(salMin) + 1850) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1900))) {
                                                                                    dedBaza = (parseFloat(salMin) * 0.01);
                                                                                  } else {
                                                                                    if (((parseFloat(salMin) + 1900) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 1950))) {
                                                                                      dedBaza = (parseFloat(salMin) * 0.005);
                                                                                    } else {
                                                                                      if (((parseFloat(salMin) + 1950) < (parseFloat(venitBrutTich))) && ((parseFloat(venitBrutTich)) <= (parseFloat(salMin) + 2000))) {
                                                                                        dedBaza = (parseFloat(salMin) * 0);
                                                                                      } else {
                                                                                        dedBaza = 0;
                                                                                      }
                                                                                    }
                                                                                  }
                                                                                }
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
      if ((parseFloat(venitBrutTich)) <= parseFloat(salMin) + 2000) {
        dedSupl = (parseFloat(salMin) * 0.15);
      } else {
        dedSupl = 0;
      }
      if (parseFloat(venitBrut) <= parseFloat(salMin)) {
        bazaSanat = parseFloat(venitBrut) - parseFloat(faraTaxe) + parseFloat(valTich);
        bazaPensie = parseFloat(venitBrut) - parseFloat(faraTaxe);
        contrSanat = parseFloat(bazaSanat) * 0.1;
        contrPensie = parseFloat(bazaPensie) * 0.25;
        venitImp = parseFloat(venitBrut) - parseFloat(faraTaxe) + parseFloat(valTich) - parseFloat(contrSanat) - parseFloat(contrPensie) - parseFloat(dedBaza) - parseFloat(dedSupl);
      }
      else {
        bazaSanat = parseFloat(venitBrutTich);
        bazaPensie = parseFloat(venitBrut);
        contrSanat = parseFloat(bazaSanat) * 0.1;
        contrPensie = parseFloat(bazaPensie) * 0.25;
        venitImp = parseFloat(venitBrutTich) - parseFloat(contrSanat) - parseFloat(contrPensie) - parseFloat(dedBaza) - parseFloat(dedSupl);
      }
      if (parseFloat(venitImp) <= 0) {
        valImp = 0;
      }
      else {
        valImp = parseFloat(venitImp) * 0.1;
      }
      restPlat = parseFloat(salTarif) + parseFloat(valBonus) - parseFloat(contrSanat) - parseFloat(contrPensie) - parseFloat(valImp);
      restPlatEur = Math.trunc(parseFloat(restPlat) / parseFloat(cursEur));
      restPlatEurDisplay = '(' + restPlatEur + ' EUR)';
      restPlatTich = parseFloat(restPlat) + parseFloat(valTich);
      restPlatTichEur = Math.trunc(parseFloat(restPlatTich) / parseFloat(cursEur));
      restPlatTichEurDisplay = '(' + restPlatTichEur + ' EUR)';

      // Display

      venitBrutRes.innerHTML = parseFloat(venitBrut).toFixed(0);
      venitBrutEurDisplayRes.innerHTML = venitBrutEurDisplay.toString();
      venitBrutTichRes.innerHTML = parseFloat(venitBrutTich).toFixed(0);
      venitBrutTichEurDisplayRes.innerHTML = venitBrutTichEurDisplay.toString();
      contrSanatRes.innerHTML = parseFloat(contrSanat).toFixed(0);
      contrPensieRes.innerHTML = parseFloat(contrPensie).toFixed(0);
      dedBazaRes.innerHTML = parseFloat(dedBaza).toFixed(0);
      dedSuplRes.innerHTML = parseFloat(dedSupl).toFixed(0);
      valImpRes.innerHTML = parseFloat(valImp).toFixed(0);
      restPlatRes.innerHTML = parseFloat(restPlat).toFixed(0);
      restPlatEurDisplayRes.innerHTML = restPlatEurDisplay.toString();
      restPlatTichRes.innerHTML = parseFloat(restPlatTich).toFixed(0);
      restPlatTichEurDisplayRes.innerHTML = restPlatTichEurDisplay.toString();

    }

  </script>

</head>

<body>

  <form action="">
    Salariu brut: <input type="text" id="salTarif" value="4050" style="width: 31px"><br />
    Bonus: <input type="text" id="valBonus" value="0" style="width: 31px"><br />
    Tichete masă: <input type="text" id="valTich" value="0" style="width: 31px"> <input type="button" id="sub"
      value="Submit" onclick="restPlatCalc()"><br />
    <b>Total venituri brute: <span id="venitBrut"></span> <span id="venitBrutEurDisplay"></span></b><br />
    <b>Total venituri brute (incl. Tichete masă): <span id="venitBrutTich"></span> <span
        id="venitBrutTichEurDisplay"></span></b><br />
    Contribuție sănătate: <span id="contrSanat"></span><br />
    Contribuție pensie: <span id="contrPensie"></span><br />
    Deducere de bază: <span id="dedBaza"></span><br />
    Deducere suplimentară: <span id="dedSupl"></span><br />
    Impozit: <span id="valImp"></span><br />
    <b>Salariu net: <span id="restPlat"></span> <span id="restPlatEurDisplay"></span></b><br />
    <b>Salariu net (incl. Tichete masă): <span id="restPlatTich"></span> <span
        id="restPlatTichEurDisplay"></span></b><br />
  </form>

</body>

</html>