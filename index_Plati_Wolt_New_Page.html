<!DOCTYPE html>
<html lang="en">

<head>

  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1">

  <script>

    function valRestPlataCalc() {

      // Inputs

      valVenitAgent = document.getElementById("valVenitAgent").value;
      valBonusCastig = document.getElementById("valBonusCastig").value;
      valBonus = document.getElementById("valBonus").value;
      valTips = document.getElementById("valTips").value;
      valCim = document.getElementById("valCim").value;
      valSelfPay = document.getElementById("valSelfPay").value;
      valAdaosuri = document.getElementById("valAdaosuri").value;
      valDeduceri = document.getElementById("valDeduceri").value;

      // Vars

      var valVenitAgentDisplay;
      var valBonusCastigDisplay;
      var valBonusDisplay;
      var valTipsDisplay;
      var valCimDisplay;
      var valSelfPayDisplay;
      var valAdaosuriDisplay
      var valDeduceriDisplay;
      var valVenitFaraBacsis;
      var valComision;
      var valTaxaOperat;
      var valRestPlata;

      // Results

      var valComisionRes = document.getElementById('valComision');
      var valTaxaOperatRes = document.getElementById('valTaxaOperat');
      var valRestPlataRes = document.getElementById('valRestPlata');

      // Formulas

      valVenitAgentDisplay = parseFloat(valVenitAgent);
      valBonusCastigDisplay = parseFloat(valBonusCastig);
      valBonusDisplay = parseFloat(valBonus);
      valTipsDisplay = parseFloat(valTips);
      valCimDisplay = parseFloat(valCim);
      valSelfPayDisplay = parseFloat(valSelfPay);
      valAdaosuriDisplay = parseFloat(valAdaosuri);
      valDeduceriDisplay = parseFloat(valDeduceri);
      valVenitFaraBacsis = parseFloat(valVenitAgent) + parseFloat(valBonusCastig) + parseFloat(valBonus);
      valComision = parseFloat(valVenitFaraBacsis) * 0.14;
      valTaxaOperat = parseFloat(valVenitFaraBacsis) * 0.0149 * 1.21;
      valRestPlata = parseFloat(valVenitFaraBacsis) + parseFloat(valTips) - parseFloat(valComision) -
        parseFloat(valTaxaOperat) - parseFloat(valCim) - parseFloat(valSelfPay) + parseFloat(valAdaosuri) -
        parseFloat(valDeduceri);

      // Display

      // open a new blank tab/window
      let win = window.open("", "_blank");

      // write HTML directly into the new window
      win.document.write(`
  <html>

  <head>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1">
    <title></title>
  </head>

<body>
  Venit livrări: ${valVenitAgentDisplay.toFixed(2)}<br />
  Venit garantat: ${valBonusCastigDisplay.toFixed(2)}<br />
  Bonus: ${valBonusDisplay.toFixed(2)}<br />
  Bacșiș: ${valTipsDisplay.toFixed(2)}<br />
  Comision: ${valComision.toFixed(2)}<br />
  Taxă operațională: ${valTaxaOperat.toFixed(2)}<br />
  CIM: ${valCimDisplay.toFixed(2)}<br />
  Balanță cash: ${valSelfPayDisplay.toFixed(2)}<br />
  Adaosuri: ${valAdaosuriDisplay.toFixed(2)}<br />
  Deduceri: ${valDeduceriDisplay.toFixed(2)}<br />
  <b>Rest plată: ${valRestPlata.toFixed(2)}</b><br />
</body>

</html>
`);
    }
  </script>

  <style>
    input[type=number]::-webkit-inner-spin-button,
    input[type=number]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      margin: 0;
    }
  </style>

</head>

<body>

  <form action="">
    Venit livrări: <input type="number" id="valVenitAgent" value="" style="width: 31px"><br />
    Venit garantat: <input type="number" id="valBonusCastig" value="" style="width: 31px"><br />
    Bonus: <input type="number" id="valBonus" value="" style="width: 31px"><br />
    Bacșiș: <input type="number" id="valTips" value="" style="width: 31px"><br />
    CIM: <input type="number" id="valCim" value="0" style="width: 31px"><br />
    Balanță cash: <input type="number" id="valSelfPay" value="0" style="width: 31px"><br />
    Adaosuri: <input type="number" id="valAdaosuri" value="0" style="width: 31px"><br />
    Deduceri: <input type="number" id="valDeduceri" value="0" style="width: 31px"> <input type="button" id="sub"
      value="Submit" onclick="valRestPlataCalc()"><br />
    <!-- Comision: <span id="valComision"></span><br />
    Taxa operațională: <span id="valTaxaOperat"></span><br />
    <b>Rest plată: <span id="valRestPlata"></span></b><br /> -->
  </form>

</body>

</html>